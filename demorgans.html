<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>De Morgan's Theorems & Universal Gates</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
            overflow: hidden;
            background: #1a1a2e;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }

        .viewport-container {
            width: 100%;
            max-width: 100vw;
            aspect-ratio: 16 / 9;
            max-height: 100vh;
            position: relative;
            overflow: hidden;
            margin: 0 auto;
        }

        .design-surface {
            width: 1920px;
            height: 1080px;
            position: absolute;
            top: 0;
            left: 0;
            transform-origin: top left;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            display: flex;
            flex-direction: column;
            padding: 30px 60px;
        }

        h1 {
            color: #e8e8e8;
            font-size: 36px;
            font-weight: 600;
            text-align: center;
            margin-bottom: 20px;
        }

        /* Tabs */
        .tabs {
            display: flex;
            gap: 8px;
            justify-content: center;
            margin-bottom: 30px;
        }

        .tab {
            padding: 14px 28px;
            font-size: 18px;
            font-weight: 500;
            background: #2d3a5a;
            color: #a0a0b0;
            border: 2px solid #3d4a6a;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .tab:hover {
            background: #3d4a6a;
            color: #e0e0e0;
        }

        .tab.active {
            background: #4a6fa5;
            color: #ffffff;
            border-color: #5a8fc5;
        }

        /* Content area */
        .content {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .tab-content {
            display: none;
            flex-direction: column;
            align-items: center;
            gap: 30px;
            width: 100%;
        }

        .tab-content.active {
            display: flex;
        }

        .theorem-title {
            font-size: 28px;
            font-weight: 600;
            color: #ffffff;
            text-align: center;
        }

        .theorem-expression {
            font-size: 44px;
            color: #a0c4e8;
            font-family: 'Courier New', monospace;
            text-align: center;
        }

        .equivalence-container {
            display: flex;
            align-items: center;
            gap: 60px;
        }

        .gate-box {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        .gate-label {
            font-size: 22px;
            color: #c0c0d0;
            font-weight: 500;
        }

        .equals-sign {
            font-size: 72px;
            color: #4ade80;
            font-weight: bold;
        }

        .gate-svg {
            width: 350px;
            height: 260px;
        }

        .gate-svg-small {
            width: 280px;
            height: 200px;
        }

        /* Signal colors */
        .signal-low {
            fill: #3a4a6a;
            stroke: #5a6a8a;
        }

        .signal-high {
            fill: #4ade80;
            stroke: #22c55e;
        }

        .wire {
            stroke: #5a6a8a;
            stroke-width: 4;
            fill: none;
        }

        .wire.high {
            stroke: #4ade80;
        }

        .gate-body {
            fill: #2d3a5a;
            stroke: #6a8ac0;
            stroke-width: 3;
        }

        .input-label, .output-label {
            font-size: 22px;
            fill: #c0c0d0;
            font-family: 'Segoe UI', sans-serif;
            font-weight: 500;
        }

        /* Truth table */
        .truth-table-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            align-items: center;
        }

        .truth-table-title {
            font-size: 20px;
            color: #e0e0e0;
            text-align: center;
            font-weight: 500;
        }

        .truth-table {
            border-collapse: separate;
            border-spacing: 0;
            background: #2d3a5a;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }

        .truth-table th {
            background: #3d4a6a;
            color: #e0e0e0;
            padding: 12px 28px;
            font-size: 18px;
            font-weight: 600;
            border-bottom: 2px solid #4a5a7a;
        }

        .truth-table td {
            padding: 14px 28px;
            font-size: 20px;
            text-align: center;
            color: #c0c0d0;
            border-bottom: 1px solid #3a4a6a;
            cursor: pointer;
            transition: all 0.15s ease;
        }

        .truth-table tr:last-child td {
            border-bottom: none;
        }

        .truth-table tr.selected td {
            background: #4a6fa5;
            color: #ffffff;
        }

        .truth-table tr:not(.selected):hover td {
            background: #3a4a6a;
        }

        .value-0 {
            color: #8a9ab0;
        }

        .value-1 {
            color: #4ade80;
            font-weight: 600;
        }

        .click-hint {
            font-size: 16px;
            color: #7a8a9a;
            text-align: center;
            font-style: italic;
        }

        .description {
            font-size: 20px;
            color: #b0b0c0;
            text-align: center;
            max-width: 900px;
            line-height: 1.5;
        }

        /* Universal gate section */
        .universal-demo {
            display: flex;
            gap: 80px;
            align-items: flex-start;
        }

        .inverter-demo {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .inverter-label {
            font-size: 24px;
            color: #ffffff;
            font-weight: 500;
        }

        .inverter-description {
            font-size: 18px;
            color: #a0b0c0;
            text-align: center;
            max-width: 400px;
        }
    </style>
</head>
<body>
    <div class="viewport-container" id="viewportContainer">
        <div class="design-surface" id="designSurface">
            <h1>De Morgan's Theorems & Universal Gates</h1>
            
            <div class="tabs">
                <button class="tab active" data-tab="demorgan1">OR + Bubbles = NAND</button>
                <button class="tab" data-tab="demorgan2">AND + Bubbles = NOR</button>
                <button class="tab" data-tab="nand-universal">NAND as Inverter</button>
                <button class="tab" data-tab="nor-universal">NOR as Inverter</button>
            </div>

            <div class="content">
                <!-- Tab 1: OR with input bubbles = NAND -->
                <div class="tab-content active" id="demorgan1-content">
                    <div class="theorem-title">De Morgan's Theorem: OR with Inverted Inputs = NAND</div>
                    <div class="theorem-expression"><span style="text-decoration: overline;">A</span> + <span style="text-decoration: overline;">B</span> = <span style="text-decoration: overline;">A · B</span></div>
                    
                    <div class="equivalence-container">
                        <div class="gate-box">
                            <div class="gate-label">OR with Input Bubbles</div>
                            <svg class="gate-svg" viewBox="0 0 350 260">
                                <!-- Input A wire with bubble -->
                                <line class="wire" id="dm1-left-wireA1" x1="30" y1="80" x2="55" y2="80"/>
                                <circle class="gate-body" cx="70" cy="80" r="12"/>
                                <line class="wire" id="dm1-left-wireA2" x1="82" y1="80" x2="115" y2="80"/>
                                <text class="input-label" x="10" y="87">A</text>
                                <circle id="dm1-left-inputA" cx="40" cy="80" r="10" class="signal-low"/>
                                
                                <!-- Input B wire with bubble -->
                                <line class="wire" id="dm1-left-wireB1" x1="30" y1="180" x2="55" y2="180"/>
                                <circle class="gate-body" cx="70" cy="180" r="12"/>
                                <line class="wire" id="dm1-left-wireB2" x1="82" y1="180" x2="115" y2="180"/>
                                <text class="input-label" x="10" y="187">B</text>
                                <circle id="dm1-left-inputB" cx="40" cy="180" r="10" class="signal-low"/>
                                
                                <!-- OR gate body -->
                                <path class="gate-body" d="M90 50 Q130 130 90 210 Q180 210 250 130 Q180 50 90 50 Z"/>
                                
                                <!-- Output wire -->
                                <line class="wire" id="dm1-left-wireOut" x1="250" y1="130" x2="320" y2="130"/>
                                <text class="output-label" x="325" y="137">Y</text>
                                <circle id="dm1-left-output" cx="310" cy="130" r="10" class="signal-high"/>
                            </svg>
                        </div>

                        <div class="equals-sign">=</div>

                        <div class="gate-box">
                            <div class="gate-label">NAND Gate</div>
                            <svg class="gate-svg" viewBox="0 0 350 260">
                                <!-- Input A wire -->
                                <line class="wire" id="dm1-right-wireA" x1="30" y1="80" x2="100" y2="80"/>
                                <text class="input-label" x="10" y="87">A</text>
                                <circle id="dm1-right-inputA" cx="40" cy="80" r="10" class="signal-low"/>
                                
                                <!-- Input B wire -->
                                <line class="wire" id="dm1-right-wireB" x1="30" y1="180" x2="100" y2="180"/>
                                <text class="input-label" x="10" y="187">B</text>
                                <circle id="dm1-right-inputB" cx="40" cy="180" r="10" class="signal-low"/>
                                
                                <!-- NAND gate body -->
                                <path class="gate-body" d="M100 50 L100 210 L170 210 Q240 210 240 130 Q240 50 170 50 Z"/>
                                <circle class="gate-body" cx="257" cy="130" r="15"/>
                                
                                <!-- Output wire -->
                                <line class="wire" id="dm1-right-wireOut" x1="272" y1="130" x2="320" y2="130"/>
                                <text class="output-label" x="325" y="137">Y</text>
                                <circle id="dm1-right-output" cx="310" cy="130" r="10" class="signal-high"/>
                            </svg>
                        </div>
                    </div>

                    <div class="truth-table-container">
                        <div class="truth-table-title">Truth Table (Both gates produce identical outputs)</div>
                        <table class="truth-table" id="dm1-table">
                            <tr><th>A</th><th>B</th><th>Ā</th><th>B̄</th><th>Y</th></tr>
                            <tr class="selected" data-a="0" data-b="0"><td class="value-0">0</td><td class="value-0">0</td><td class="value-1">1</td><td class="value-1">1</td><td class="value-1">1</td></tr>
                            <tr data-a="0" data-b="1"><td class="value-0">0</td><td class="value-1">1</td><td class="value-1">1</td><td class="value-0">0</td><td class="value-1">1</td></tr>
                            <tr data-a="1" data-b="0"><td class="value-1">1</td><td class="value-0">0</td><td class="value-0">0</td><td class="value-1">1</td><td class="value-1">1</td></tr>
                            <tr data-a="1" data-b="1"><td class="value-1">1</td><td class="value-1">1</td><td class="value-0">0</td><td class="value-0">0</td><td class="value-0">0</td></tr>
                        </table>
                        <div class="click-hint">Click a row to animate both gates</div>
                    </div>
                </div>

                <!-- Tab 2: AND with input bubbles = NOR -->
                <div class="tab-content" id="demorgan2-content">
                    <div class="theorem-title">De Morgan's Theorem: AND with Inverted Inputs = NOR</div>
                    <div class="theorem-expression"><span style="text-decoration: overline;">A</span> · <span style="text-decoration: overline;">B</span> = <span style="text-decoration: overline;">A + B</span></div>
                    
                    <div class="equivalence-container">
                        <div class="gate-box">
                            <div class="gate-label">AND with Input Bubbles</div>
                            <svg class="gate-svg" viewBox="0 0 350 260">
                                <!-- Input A wire with bubble -->
                                <line class="wire" id="dm2-left-wireA1" x1="30" y1="80" x2="55" y2="80"/>
                                <circle class="gate-body" cx="70" cy="80" r="12"/>
                                <line class="wire" id="dm2-left-wireA2" x1="82" y1="80" x2="100" y2="80"/>
                                <text class="input-label" x="10" y="87">A</text>
                                <circle id="dm2-left-inputA" cx="40" cy="80" r="10" class="signal-low"/>
                                
                                <!-- Input B wire with bubble -->
                                <line class="wire" id="dm2-left-wireB1" x1="30" y1="180" x2="55" y2="180"/>
                                <circle class="gate-body" cx="70" cy="180" r="12"/>
                                <line class="wire" id="dm2-left-wireB2" x1="82" y1="180" x2="100" y2="180"/>
                                <text class="input-label" x="10" y="187">B</text>
                                <circle id="dm2-left-inputB" cx="40" cy="180" r="10" class="signal-low"/>
                                
                                <!-- AND gate body -->
                                <path class="gate-body" d="M100 50 L100 210 L170 210 Q250 210 250 130 Q250 50 170 50 Z"/>
                                
                                <!-- Output wire -->
                                <line class="wire" id="dm2-left-wireOut" x1="250" y1="130" x2="320" y2="130"/>
                                <text class="output-label" x="325" y="137">Y</text>
                                <circle id="dm2-left-output" cx="310" cy="130" r="10" class="signal-high"/>
                            </svg>
                        </div>

                        <div class="equals-sign">=</div>

                        <div class="gate-box">
                            <div class="gate-label">NOR Gate</div>
                            <svg class="gate-svg" viewBox="0 0 350 260">
                                <!-- Input A wire -->
                                <line class="wire" id="dm2-right-wireA" x1="30" y1="80" x2="115" y2="80"/>
                                <text class="input-label" x="10" y="87">A</text>
                                <circle id="dm2-right-inputA" cx="40" cy="80" r="10" class="signal-low"/>
                                
                                <!-- Input B wire -->
                                <line class="wire" id="dm2-right-wireB" x1="30" y1="180" x2="115" y2="180"/>
                                <text class="input-label" x="10" y="187">B</text>
                                <circle id="dm2-right-inputB" cx="40" cy="180" r="10" class="signal-low"/>
                                
                                <!-- NOR gate body -->
                                <path class="gate-body" d="M90 50 Q130 130 90 210 Q170 210 230 130 Q170 50 90 50 Z"/>
                                <circle class="gate-body" cx="247" cy="130" r="15"/>
                                
                                <!-- Output wire -->
                                <line class="wire" id="dm2-right-wireOut" x1="262" y1="130" x2="320" y2="130"/>
                                <text class="output-label" x="325" y="137">Y</text>
                                <circle id="dm2-right-output" cx="310" cy="130" r="10" class="signal-high"/>
                            </svg>
                        </div>
                    </div>

                    <div class="truth-table-container">
                        <div class="truth-table-title">Truth Table (Both gates produce identical outputs)</div>
                        <table class="truth-table" id="dm2-table">
                            <tr><th>A</th><th>B</th><th>Ā</th><th>B̄</th><th>Y</th></tr>
                            <tr class="selected" data-a="0" data-b="0"><td class="value-0">0</td><td class="value-0">0</td><td class="value-1">1</td><td class="value-1">1</td><td class="value-1">1</td></tr>
                            <tr data-a="0" data-b="1"><td class="value-0">0</td><td class="value-1">1</td><td class="value-1">1</td><td class="value-0">0</td><td class="value-0">0</td></tr>
                            <tr data-a="1" data-b="0"><td class="value-1">1</td><td class="value-0">0</td><td class="value-0">0</td><td class="value-1">1</td><td class="value-0">0</td></tr>
                            <tr data-a="1" data-b="1"><td class="value-1">1</td><td class="value-1">1</td><td class="value-0">0</td><td class="value-0">0</td><td class="value-0">0</td></tr>
                        </table>
                        <div class="click-hint">Click a row to animate both gates</div>
                    </div>
                </div>

                <!-- Tab 3: NAND as Universal Gate (Inverter) -->
                <div class="tab-content" id="nand-universal-content">
                    <div class="theorem-title">NAND is a Universal Gate</div>
                    <div class="description">A NAND gate can function as an inverter by tying both inputs together. Since NAND outputs LOW only when both inputs are HIGH, connecting the same signal to both inputs creates inversion.</div>
                    
                    <div class="universal-demo">
                        <div class="inverter-demo">
                            <div class="inverter-label">NAND as Inverter</div>
                            <svg class="gate-svg" viewBox="0 0 350 260">
                                <!-- Single input that splits -->
                                <line class="wire" id="nand-inv-wireIn" x1="30" y1="130" x2="60" y2="130"/>
                                <text class="input-label" x="10" y="137">A</text>
                                <circle id="nand-inv-input" cx="40" cy="130" r="10" class="signal-low"/>
                                
                                <!-- Split to both inputs -->
                                <line class="wire" id="nand-inv-split1" x1="60" y1="130" x2="60" y2="80"/>
                                <line class="wire" id="nand-inv-split2" x1="60" y1="80" x2="100" y2="80"/>
                                <line class="wire" id="nand-inv-split3" x1="60" y1="130" x2="60" y2="180"/>
                                <line class="wire" id="nand-inv-split4" x1="60" y1="180" x2="100" y2="180"/>
                                
                                <!-- NAND gate body -->
                                <path class="gate-body" d="M100 50 L100 210 L170 210 Q240 210 240 130 Q240 50 170 50 Z"/>
                                <circle class="gate-body" cx="257" cy="130" r="15"/>
                                
                                <!-- Output wire -->
                                <line class="wire" id="nand-inv-wireOut" x1="272" y1="130" x2="320" y2="130"/>
                                <text class="output-label" x="325" y="137">Y</text>
                                <circle id="nand-inv-output" cx="310" cy="130" r="10" class="signal-high"/>
                            </svg>
                            <div class="theorem-expression">Y = <span style="text-decoration: overline;">A · A</span> = <span style="text-decoration: overline;">A</span></div>
                        </div>

                        <div class="truth-table-container">
                            <div class="truth-table-title">Inverter Truth Table</div>
                            <table class="truth-table" id="nand-inv-table">
                                <tr><th>A</th><th>Y</th></tr>
                                <tr class="selected" data-a="0"><td class="value-0">0</td><td class="value-1">1</td></tr>
                                <tr data-a="1"><td class="value-1">1</td><td class="value-0">0</td></tr>
                            </table>
                            <div class="click-hint">Click a row to animate</div>
                        </div>
                    </div>
                    
                    <div class="description" style="margin-top: 20px;">Because NAND can create an inverter, and combined with itself can create AND and OR gates, NAND is called a <strong style="color: #4ade80;">universal gate</strong> — any logic circuit can be built using only NAND gates.</div>
                </div>

                <!-- Tab 4: NOR as Universal Gate (Inverter) -->
                <div class="tab-content" id="nor-universal-content">
                    <div class="theorem-title">NOR is a Universal Gate</div>
                    <div class="description">A NOR gate can function as an inverter by tying both inputs together. Since NOR outputs HIGH only when both inputs are LOW, connecting the same signal to both inputs creates inversion.</div>
                    
                    <div class="universal-demo">
                        <div class="inverter-demo">
                            <div class="inverter-label">NOR as Inverter</div>
                            <svg class="gate-svg" viewBox="0 0 350 260">
                                <!-- Single input that splits -->
                                <line class="wire" id="nor-inv-wireIn" x1="30" y1="130" x2="60" y2="130"/>
                                <text class="input-label" x="10" y="137">A</text>
                                <circle id="nor-inv-input" cx="40" cy="130" r="10" class="signal-low"/>
                                
                                <!-- Split to both inputs -->
                                <line class="wire" id="nor-inv-split1" x1="60" y1="130" x2="60" y2="80"/>
                                <line class="wire" id="nor-inv-split2" x1="60" y1="80" x2="115" y2="80"/>
                                <line class="wire" id="nor-inv-split3" x1="60" y1="130" x2="60" y2="180"/>
                                <line class="wire" id="nor-inv-split4" x1="60" y1="180" x2="115" y2="180"/>
                                
                                <!-- NOR gate body -->
                                <path class="gate-body" d="M90 50 Q130 130 90 210 Q170 210 230 130 Q170 50 90 50 Z"/>
                                <circle class="gate-body" cx="247" cy="130" r="15"/>
                                
                                <!-- Output wire -->
                                <line class="wire" id="nor-inv-wireOut" x1="262" y1="130" x2="320" y2="130"/>
                                <text class="output-label" x="325" y="137">Y</text>
                                <circle id="nor-inv-output" cx="310" cy="130" r="10" class="signal-high"/>
                            </svg>
                            <div class="theorem-expression">Y = <span style="text-decoration: overline;">A + A</span> = <span style="text-decoration: overline;">A</span></div>
                        </div>

                        <div class="truth-table-container">
                            <div class="truth-table-title">Inverter Truth Table</div>
                            <table class="truth-table" id="nor-inv-table">
                                <tr><th>A</th><th>Y</th></tr>
                                <tr class="selected" data-a="0"><td class="value-0">0</td><td class="value-1">1</td></tr>
                                <tr data-a="1"><td class="value-1">1</td><td class="value-0">0</td></tr>
                            </table>
                            <div class="click-hint">Click a row to animate</div>
                        </div>
                    </div>
                    
                    <div class="description" style="margin-top: 20px;">Because NOR can create an inverter, and combined with itself can create AND and OR gates, NOR is called a <strong style="color: #4ade80;">universal gate</strong> — any logic circuit can be built using only NOR gates.</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Responsive scaling
        const DESIGN_WIDTH = 1920;
        const DESIGN_HEIGHT = 1080;

        function autoResize() {
            const container = document.getElementById('viewportContainer');
            const surface = document.getElementById('designSurface');
            
            const viewportWidth = window.innerWidth;
            const viewportHeight = window.innerHeight;
            
            let containerWidth, containerHeight;
            if (viewportWidth / viewportHeight > 16 / 9) {
                containerHeight = viewportHeight;
                containerWidth = containerHeight * (16 / 9);
            } else {
                containerWidth = viewportWidth;
                containerHeight = containerWidth * (9 / 16);
            }
            
            container.style.width = containerWidth + 'px';
            container.style.height = containerHeight + 'px';
            
            const scale = containerWidth / DESIGN_WIDTH;
            surface.style.transform = `scale(${scale})`;
        }

        autoResize();
        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(autoResize, 50);
        });

        // Tab switching
        const tabs = document.querySelectorAll('.tab');
        const contents = document.querySelectorAll('.tab-content');

        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const tabId = tab.dataset.tab;
                
                tabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                contents.forEach(c => c.classList.remove('active'));
                document.getElementById(`${tabId}-content`).classList.add('active');
            });
        });

        // Update De Morgan 1 (OR with bubbles = NAND)
        function updateDM1(a, b) {
            const notA = !a;
            const notB = !b;
            const output = notA || notB; // Same as NAND
            
            // Left side (OR with bubbles)
            document.getElementById('dm1-left-inputA').classList.toggle('signal-high', a);
            document.getElementById('dm1-left-inputA').classList.toggle('signal-low', !a);
            document.getElementById('dm1-left-wireA1').classList.toggle('high', a);
            document.getElementById('dm1-left-wireA2').classList.toggle('high', notA);
            
            document.getElementById('dm1-left-inputB').classList.toggle('signal-high', b);
            document.getElementById('dm1-left-inputB').classList.toggle('signal-low', !b);
            document.getElementById('dm1-left-wireB1').classList.toggle('high', b);
            document.getElementById('dm1-left-wireB2').classList.toggle('high', notB);
            
            document.getElementById('dm1-left-output').classList.toggle('signal-high', output);
            document.getElementById('dm1-left-output').classList.toggle('signal-low', !output);
            document.getElementById('dm1-left-wireOut').classList.toggle('high', output);
            
            // Right side (NAND)
            document.getElementById('dm1-right-inputA').classList.toggle('signal-high', a);
            document.getElementById('dm1-right-inputA').classList.toggle('signal-low', !a);
            document.getElementById('dm1-right-wireA').classList.toggle('high', a);
            
            document.getElementById('dm1-right-inputB').classList.toggle('signal-high', b);
            document.getElementById('dm1-right-inputB').classList.toggle('signal-low', !b);
            document.getElementById('dm1-right-wireB').classList.toggle('high', b);
            
            document.getElementById('dm1-right-output').classList.toggle('signal-high', output);
            document.getElementById('dm1-right-output').classList.toggle('signal-low', !output);
            document.getElementById('dm1-right-wireOut').classList.toggle('high', output);
        }

        // Update De Morgan 2 (AND with bubbles = NOR)
        function updateDM2(a, b) {
            const notA = !a;
            const notB = !b;
            const output = notA && notB; // Same as NOR
            
            // Left side (AND with bubbles)
            document.getElementById('dm2-left-inputA').classList.toggle('signal-high', a);
            document.getElementById('dm2-left-inputA').classList.toggle('signal-low', !a);
            document.getElementById('dm2-left-wireA1').classList.toggle('high', a);
            document.getElementById('dm2-left-wireA2').classList.toggle('high', notA);
            
            document.getElementById('dm2-left-inputB').classList.toggle('signal-high', b);
            document.getElementById('dm2-left-inputB').classList.toggle('signal-low', !b);
            document.getElementById('dm2-left-wireB1').classList.toggle('high', b);
            document.getElementById('dm2-left-wireB2').classList.toggle('high', notB);
            
            document.getElementById('dm2-left-output').classList.toggle('signal-high', output);
            document.getElementById('dm2-left-output').classList.toggle('signal-low', !output);
            document.getElementById('dm2-left-wireOut').classList.toggle('high', output);
            
            // Right side (NOR)
            document.getElementById('dm2-right-inputA').classList.toggle('signal-high', a);
            document.getElementById('dm2-right-inputA').classList.toggle('signal-low', !a);
            document.getElementById('dm2-right-wireA').classList.toggle('high', a);
            
            document.getElementById('dm2-right-inputB').classList.toggle('signal-high', b);
            document.getElementById('dm2-right-inputB').classList.toggle('signal-low', !b);
            document.getElementById('dm2-right-wireB').classList.toggle('high', b);
            
            document.getElementById('dm2-right-output').classList.toggle('signal-high', output);
            document.getElementById('dm2-right-output').classList.toggle('signal-low', !output);
            document.getElementById('dm2-right-wireOut').classList.toggle('high', output);
        }

        // Update NAND inverter
        function updateNANDInv(a) {
            const output = !a;
            
            document.getElementById('nand-inv-input').classList.toggle('signal-high', a);
            document.getElementById('nand-inv-input').classList.toggle('signal-low', !a);
            document.getElementById('nand-inv-wireIn').classList.toggle('high', a);
            document.getElementById('nand-inv-split1').classList.toggle('high', a);
            document.getElementById('nand-inv-split2').classList.toggle('high', a);
            document.getElementById('nand-inv-split3').classList.toggle('high', a);
            document.getElementById('nand-inv-split4').classList.toggle('high', a);
            
            document.getElementById('nand-inv-output').classList.toggle('signal-high', output);
            document.getElementById('nand-inv-output').classList.toggle('signal-low', !output);
            document.getElementById('nand-inv-wireOut').classList.toggle('high', output);
        }

        // Update NOR inverter
        function updateNORInv(a) {
            const output = !a;
            
            document.getElementById('nor-inv-input').classList.toggle('signal-high', a);
            document.getElementById('nor-inv-input').classList.toggle('signal-low', !a);
            document.getElementById('nor-inv-wireIn').classList.toggle('high', a);
            document.getElementById('nor-inv-split1').classList.toggle('high', a);
            document.getElementById('nor-inv-split2').classList.toggle('high', a);
            document.getElementById('nor-inv-split3').classList.toggle('high', a);
            document.getElementById('nor-inv-split4').classList.toggle('high', a);
            
            document.getElementById('nor-inv-output').classList.toggle('signal-high', output);
            document.getElementById('nor-inv-output').classList.toggle('signal-low', !output);
            document.getElementById('nor-inv-wireOut').classList.toggle('high', output);
        }

        // Truth table interactions
        document.getElementById('dm1-table').querySelectorAll('tr[data-a]').forEach(row => {
            row.addEventListener('click', () => {
                document.getElementById('dm1-table').querySelectorAll('tr[data-a]').forEach(r => r.classList.remove('selected'));
                row.classList.add('selected');
                updateDM1(parseInt(row.dataset.a) === 1, parseInt(row.dataset.b) === 1);
            });
        });

        document.getElementById('dm2-table').querySelectorAll('tr[data-a]').forEach(row => {
            row.addEventListener('click', () => {
                document.getElementById('dm2-table').querySelectorAll('tr[data-a]').forEach(r => r.classList.remove('selected'));
                row.classList.add('selected');
                updateDM2(parseInt(row.dataset.a) === 1, parseInt(row.dataset.b) === 1);
            });
        });

        document.getElementById('nand-inv-table').querySelectorAll('tr[data-a]').forEach(row => {
            row.addEventListener('click', () => {
                document.getElementById('nand-inv-table').querySelectorAll('tr[data-a]').forEach(r => r.classList.remove('selected'));
                row.classList.add('selected');
                updateNANDInv(parseInt(row.dataset.a) === 1);
            });
        });

        document.getElementById('nor-inv-table').querySelectorAll('tr[data-a]').forEach(row => {
            row.addEventListener('click', () => {
                document.getElementById('nor-inv-table').querySelectorAll('tr[data-a]').forEach(r => r.classList.remove('selected'));
                row.classList.add('selected');
                updateNORInv(parseInt(row.dataset.a) === 1);
            });
        });

        // Initialize all displays
        updateDM1(false, false);
        updateDM2(false, false);
        updateNANDInv(false);
        updateNORInv(false);
    </script>
</body>
</html>
